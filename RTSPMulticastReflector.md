<font color='red'><b>Draft Text - This page has not yet been formatted.</b></font>

{section}
{column:width=25%}
{info:title=Table Of Contents|icon=false}

---

{toc:minLevel=2|indent=15px}
{info}
{note:title=Page Index|icon=false}

---

{children}
{note}
{tip}
The RTSP multicast reflector was previously referred to as the _RTSP Relay_ or _RTSP/AMT Proxy_.
{tip}
{column}
{column}
h2. Implementation


RTSP Multicast Reflector is an RTSP server the relays multicast streams delivered via AMT to local RTSP clients via unicast.

The relay implementation is 100% pure Java. This provides maximum portability accross all platforms for which a Java 6 JVM exists.

The relay is deployed as a Java Web Start application, or standalone executable. A separate Java applet can be used to launch the reflector from within a web page.


h2. Usage

RTSP clients use the relay to access multicast streaming media presentations.&nbsp; To start a relay session, the RTSP client issues an RTSP request to the reflector. The request must include an {color:#3366ff}http:{color} or {color:#3366ff}file:{color} URL for an SDP file that describes a multicast presentation. This URL is passed as the query string value in the RTSP URL. For example:

{code}
rtsp://localhost:8054/reflect?http://example.com/broadcast.sdp

rtsp://localhost:8054/reflect?[file:///C:/Documents+and+Settings/gbumgardner/My+Documents/SDPs/broadcast.sdp](file:///C:/Documents+and+Settings/gbumgardner/My+Documents/SDPs/broadcast.sdp)
{code}
_Please note that any spaces that appear in a file URL must be replaced with '+' or %20._


The reflector server does not currently accept SDP descriptions for unicast   presentations. The connection records in the SDP must specify multicast   addresses and any SDP description that describes an SSM stream must include a source-filter attribute record that applies to   that address. The reflector can only fetch SDP descriptions from an http: or file: URL - it cannot yet act as an RTSP client to fetch SDP   descriptions from another RTSP server (i.e. the multicast stream source).

h2. Deployment

The Java Web Start version of the reflector is packaged such that it can be launched from a separate "service-launcher" applet in a web page or launched as a separate process. A Java Web Start JNLP file provides the Java browser plug-in with the information required to download the resources required by the applet or application. This information includes locations and current versions for the resources used (typically .jar files containing compiled Java code). The plug-in downloads these resources into a local cache. It uses version information in the JNLP file to determine whether it should to replace a resource contained within cache by downloading a new version. Resources that have not changed are not downloaded.


h2. Java Web Start Information

The RTSP reflector application and applet .jar files are distributed using a web application built around the JnlpDownloadServlet. This web application is typically hosted in a Tomcat servlet container. The JnlpDownloadServlet automatically generates the .jnlp files required for Java Web Start.


[Guide|http://download.oracle.com/javase/6/docs/technotes/guides/javaws/developersguide/downloadservletguide.html](JnlpDownloadServlet.md)

h2. RTSP Reflector Sample Streams

There are several multicast presentations currently streaming from a server in the AMT test bed. The streams are generated by Darwin Streaming Server and VLC processes running on 172.20.168.88. The streams can be accessed via the AMT relay 172.20.168.85. This [page|http://172.20.168.88/rtspurls.html](web.md) launches the RTSP reflector and lists some RTSP URLs that may be used to play the test streams in an RTSP client (e.g. QuickTime or VLC).
{column}
{section}